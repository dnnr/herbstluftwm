language: python

install:
    - sudo apt-get -y -q update
    - sudo apt-get -y -q build-dep herbstluftwm
    - sudo apt-get -y -q install cmake ninja-build dzen2 xdotool

jobs:
    include:
        - name: "include-what-you-use"
          dist: xenial
          services: docker
          before_install:
              # Installing IWYU in a container to get the most recent version:
              - docker build -t iwyu - <Dockerfile.iwyu
          script:
              - docker run --rm -v $PWD:/hlwm:ro iwyu bash -c 'cd /hlwm && ./iwyu.sh'
