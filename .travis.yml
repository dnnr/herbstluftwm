language: minimal

jobs:
    include:
        - name: "Ubuntu 16.04, gcc-8, Debug build, run tests"
          dist: xenial
          services: docker
          before_install:
              - docker pull dnnr/hlwm-ci:disco
              - docker build -t tmp --cache-from dnnr/hlwm-ci:disco - <Dockerfile.ci-disco
          script:
              - docker run --rm -v $PWD:/hlwm:rw tmp /hlwm/ci-build.sh
